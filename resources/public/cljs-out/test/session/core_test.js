// Compiled by ClojureScript 1.10.339 {}
goog.provide('session.core_test');
goog.require('cljs.core');
goog.require('cljs.test');
goog.require('cljs.spec.alpha');
goog.require('fast_shell.db');
goog.require('app.core');
goog.require('session.core');
session.core_test.new_session_management = (function session$core_test$new_session_management(){
return cljs.test.test_var.call(null,session.core_test.new_session_management.cljs$lang$var);
});
session.core_test.new_session_management.cljs$lang$test = (function (){
var app_meta = app.core.new_app_meta.call(null,"app-1","simple app");
var db = app.core.add_new_meta.call(null,app.core.add_new_meta.call(null,fast_shell.db.default_db,app_meta),app.core.new_app_meta.call(null,"app-2","second app"));
cljs.core.prn.call(null,db);

cljs.test.update_current_env_BANG_.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.conj,"create new session");

try{var db_SINGLEQUOTE__10347 = session.core.add_new_session.call(null,db,"app-1");
var map__10342_10348 = db_SINGLEQUOTE__10347;
var map__10342_10349__$1 = ((((!((map__10342_10348 == null)))?(((((map__10342_10348.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__10342_10348.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__10342_10348):map__10342_10348);
var instances_10350 = cljs.core.get.call(null,map__10342_10349__$1,new cljs.core.Keyword("session.core","instances","session.core/instances",-11767492));
var inst_count_10351 = cljs.core.get.call(null,map__10342_10349__$1,new cljs.core.Keyword("session.core","inst-count","session.core/inst-count",798952432));
cljs.core.prn.call(null,instances_10350);

try{var values__10097__auto___10352 = (new cljs.core.List(null,instances_10350,(new cljs.core.List(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),null,(1),null)),(2),null));
var result__10098__auto___10353 = cljs.core.apply.call(null,cljs.core.contains_QMARK_,values__10097__auto___10352);
if(cljs.core.truth_(result__10098__auto___10353)){
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"pass","pass",1574159993),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null)),new cljs.core.Keyword(null,"actual","actual",107306363),cljs.core.cons.call(null,cljs.core.contains_QMARK_,values__10097__auto___10352),new cljs.core.Keyword(null,"message","message",-406056002),null], null));
} else {
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"fail","fail",1706214930),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null)),new cljs.core.Keyword(null,"actual","actual",107306363),(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons.call(null,new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),values__10097__auto___10352),null,(1),null)),(2),null)),new cljs.core.Keyword(null,"message","message",-406056002),null], null));
}

}catch (e10344){var t__10142__auto___10354 = e10344;
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null)),new cljs.core.Keyword(null,"actual","actual",107306363),t__10142__auto___10354,new cljs.core.Keyword(null,"message","message",-406056002),null], null));
}
try{var values__10097__auto___10355 = (new cljs.core.List(null,cljs.core.get.call(null,inst_count_10351,"app-1"),(new cljs.core.List(null,(1),null,(1),null)),(2),null));
var result__10098__auto___10356 = cljs.core.apply.call(null,cljs.core._EQ_,values__10097__auto___10355);
if(cljs.core.truth_(result__10098__auto___10356)){
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"pass","pass",1574159993),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"inst-count","inst-count",1707664958,null),"app-1"),(1)),new cljs.core.Keyword(null,"actual","actual",107306363),cljs.core.cons.call(null,cljs.core._EQ_,values__10097__auto___10355),new cljs.core.Keyword(null,"message","message",-406056002),null], null));
} else {
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"fail","fail",1706214930),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"inst-count","inst-count",1707664958,null),"app-1"),(1)),new cljs.core.Keyword(null,"actual","actual",107306363),(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons.call(null,new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10097__auto___10355),null,(1),null)),(2),null)),new cljs.core.Keyword(null,"message","message",-406056002),null], null));
}

}catch (e10345){var t__10142__auto___10357 = e10345;
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"inst-count","inst-count",1707664958,null),"app-1"),(1)),new cljs.core.Keyword(null,"actual","actual",107306363),t__10142__auto___10357,new cljs.core.Keyword(null,"message","message",-406056002),null], null));
}
try{var values__10097__auto___10358 = (new cljs.core.List(null,instances_10350,(new cljs.core.List(null,cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),new cljs.core.Keyword("session.core","title","session.core/title",1364310502),"simple app"], null)]),null,(1),null)),(2),null));
var result__10098__auto___10359 = cljs.core.apply.call(null,cljs.core._EQ_,values__10097__auto___10358);
if(cljs.core.truth_(result__10098__auto___10359)){
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"pass","pass",1574159993),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),new cljs.core.Keyword("session.core","title","session.core/title",1364310502),"simple app"], null)])),new cljs.core.Keyword(null,"actual","actual",107306363),cljs.core.cons.call(null,cljs.core._EQ_,values__10097__auto___10358),new cljs.core.Keyword(null,"message","message",-406056002),null], null));
} else {
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"fail","fail",1706214930),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),new cljs.core.Keyword("session.core","title","session.core/title",1364310502),"simple app"], null)])),new cljs.core.Keyword(null,"actual","actual",107306363),(new cljs.core.List(null,new cljs.core.Symbol(null,"not","not",1044554643,null),(new cljs.core.List(null,cljs.core.cons.call(null,new cljs.core.Symbol(null,"=","=",-1501502141,null),values__10097__auto___10358),null,(1),null)),(2),null)),new cljs.core.Keyword(null,"message","message",-406056002),null], null));
}

}catch (e10346){var t__10142__auto___10360 = e10346;
cljs.test.do_report.call(null,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword(null,"expected","expected",1583670997),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",(1)], null),new cljs.core.Keyword("session.core","title","session.core/title",1364310502),"simple app"], null)])),new cljs.core.Keyword(null,"actual","actual",107306363),t__10142__auto___10360,new cljs.core.Keyword(null,"message","message",-406056002),null], null));
}}finally {cljs.test.update_current_env_BANG_.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"testing-contexts","testing-contexts",-1485646523)], null),cljs.core.rest);
}
cljs.core.list(new cljs.core.Symbol(null,"testing","testing",-1492767066,null),"more than one session for same app",cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db'","db'",-588667780,null),cljs.core.list(new cljs.core.Symbol(null,"->","->",-2139605430,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1"),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1")),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",1068423698),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("session.core","instances","session.core/instances",-11767492)], null)], null),new cljs.core.Symbol(null,"db'","db'",-588667780,null)], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),"app-1")),cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("session.core","inst-count","session.core/inst-count",798952432),new cljs.core.Keyword("session.core","all-inst","session.core/all-inst",2071521658)], null)], null),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),"app-1")], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"inst-count","inst-count",1707664958,null),(2))),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"all-inst","all-inst",11452982,null),cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(2),"app-1"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(2),"app-1"], null)], null)]))))));

cljs.core.list(new cljs.core.Symbol(null,"testing","testing",-1492767066,null),"2 sessions of different apps",cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db'","db'",-588667780,null),cljs.core.list(new cljs.core.Symbol(null,"->","->",-2139605430,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1"),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-2")),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",1068423698),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("session.core","instances","session.core/instances",-11767492)], null)], null),new cljs.core.Symbol(null,"db'","db'",-588667780,null)], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),"app-1")),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),"app-2")),cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"app-1","app-1",-1609097807,null),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),"app-1"),new cljs.core.Symbol(null,"app-2","app-2",-662111957,null),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),"app-2")], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(1),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"app-1","app-1",-1609097807,null),new cljs.core.Keyword("session.core","inst-count","session.core/inst-count",798952432)))),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(1),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"app-2","app-2",-662111957,null),new cljs.core.Keyword("session.core","inst-count","session.core/inst-count",798952432)))),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"app-1","app-1",-1609097807,null),new cljs.core.Keyword("session.core","all-inst","session.core/all-inst",2071521658)),cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null)], null)]))),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),cljs.core.list(new cljs.core.Symbol(null,"get","get",-971253014,null),new cljs.core.Symbol(null,"app-2","app-2",-662111957,null),new cljs.core.Keyword("session.core","all-inst","session.core/all-inst",2071521658)),cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-2"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-2"], null)], null)]))))));

cljs.core.list(new cljs.core.Symbol(null,"testing","testing",-1492767066,null),"destroy session -> the only available session",cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db'","db'",-588667780,null),cljs.core.list(new cljs.core.Symbol(null,"->","->",-2139605430,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1"),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-2")),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",1068423698),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("session.core","instances","session.core/instances",-11767492)], null)], null),cljs.core.list(new cljs.core.Symbol("ses","destroy-session","ses/destroy-session",1550693666,null),new cljs.core.Symbol(null,"db'","db'",-588667780,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null))], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"empty?","empty?",76408555,null),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",new cljs.core.Keyword("session.core","all-inst","session.core/all-inst",2071521658)], null))))));

return cljs.core.list(new cljs.core.Symbol(null,"testing","testing",-1492767066,null),"destroy session -> a session from multiple",cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db'","db'",-588667780,null),cljs.core.list(new cljs.core.Symbol(null,"->","->",-2139605430,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1"),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1")),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",1068423698),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("session.core","instances","session.core/instances",-11767492)], null)], null),cljs.core.list(new cljs.core.Symbol("ses","destroy-session","ses/destroy-session",1550693666,null),new cljs.core.Symbol(null,"db'","db'",-588667780,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null))], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",new cljs.core.Keyword("session.core","all-inst","session.core/all-inst",2071521658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null)], null)))),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"not","not",1044554643,null),cljs.core.list(new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),cljs.core.list(new cljs.core.Symbol(null,"get-in","get-in",-1965644065,null),new cljs.core.Symbol(null,"instances","instances",1305166746,null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["app-1",new cljs.core.Keyword("session.core","all-inst","session.core/all-inst",2071521658),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(2),"app-1"], null)], null)))))));
});

session.core_test.new_session_management.cljs$lang$var = new cljs.core.Var(function(){return session.core_test.new_session_management;},new cljs.core.Symbol("session.core-test","new-session-management","session.core-test/new-session-management",-1391928861,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.Symbol(null,"session.core-test","session.core-test",-948680349,null),new cljs.core.Symbol(null,"new-session-management","new-session-management",1981254971,null),"/Users/oleg/dev/hub/fast-shell-clj/test/session/core_test.cljs",32,1,8,8,cljs.core.List.EMPTY,null,(cljs.core.truth_(session.core_test.new_session_management)?session.core_test.new_session_management.cljs$lang$test:null)]));
cljs.core.list(new cljs.core.Symbol(null,"deftest","deftest",938248815,null),new cljs.core.Symbol(null,"session-lookup","session-lookup",1670355334,null),cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db","db",-1661185010,null),cljs.core.list(new cljs.core.Symbol(null,"->","->",-2139605430,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),cljs.core.list(new cljs.core.Symbol("app","add-new-meta","app/add-new-meta",-1188869293,null),cljs.core.list(new cljs.core.Symbol("app","new-app-meta","app/new-app-meta",1090960178,null),"app-1","first app")),cljs.core.list(new cljs.core.Symbol("app","add-new-meta","app/add-new-meta",-1188869293,null),cljs.core.list(new cljs.core.Symbol("app","new-app-meta","app/new-app-meta",1090960178,null),"app-2","second app")))], null),cljs.core.list(new cljs.core.Symbol(null,"testing","testing",-1492767066,null),"find session by application id",cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db'","db'",-588667780,null),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),"app-1")], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),cljs.core.list(new cljs.core.Symbol("ses","app-sessions","ses/app-sessions",1589801907,null),new cljs.core.Symbol(null,"db'","db'",-588667780,null),"app-1"),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null))),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"not","not",1044554643,null),cljs.core.list(new cljs.core.Symbol(null,"contains?","contains?",-1676812576,null),cljs.core.list(new cljs.core.Symbol("ses","app-sessions","ses/app-sessions",1589801907,null),new cljs.core.Symbol(null,"db'","db'",-588667780,null),"app-2"),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-2"], null))))))));
cljs.core.list(new cljs.core.Symbol(null,"deftest","deftest",938248815,null),new cljs.core.Symbol(null,"session-view-query","session-view-query",2139432831,null),cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db","db",-1661185010,null),cljs.core.list(new cljs.core.Symbol(null,"->","->",-2139605430,null),new cljs.core.Symbol("db","default-db","db/default-db",-1149096552,null),cljs.core.list(new cljs.core.Symbol("app","add-new-meta","app/add-new-meta",-1188869293,null),cljs.core.list(new cljs.core.Symbol("app","new-app-meta","app/new-app-meta",1090960178,null),"app-1","first")),cljs.core.list(new cljs.core.Symbol("app","add-new-meta","app/add-new-meta",-1188869293,null),cljs.core.list(new cljs.core.Symbol("app","new-app-meta","app/new-app-meta",1090960178,null),"app-2","second")))], null),cljs.core.list(new cljs.core.Symbol(null,"testing","testing",-1492767066,null),"select session information for view: 2 applications 1 instance each",cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db'","db'",-588667780,null),cljs.core.list(new cljs.core.Symbol(null,"->","->",-2139605430,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1"),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-2"))], null),cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"session-views","session-views",554605595,null),cljs.core.list(new cljs.core.Symbol("ses","sessions-view","ses/sessions-view",-285775224,null),new cljs.core.Symbol(null,"db'","db'",-588667780,null))], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(2),cljs.core.list(new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"session-views","session-views",554605595,null)))),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("app.core","id","app.core/id",1721650920),"app-1",new cljs.core.Keyword("app.core","name","app.core/name",-1429873787),"first"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-1"], null)], null)], null),cljs.core.list(new cljs.core.Symbol(null,"first","first",996428481,null),new cljs.core.Symbol(null,"session-views","session-views",554605595,null)))),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("app.core","id","app.core/id",1721650920),"app-2",new cljs.core.Keyword("app.core","name","app.core/name",-1429873787),"second"], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("session.core","id","session.core/id",-99006915),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),"app-2"], null)], null)], null),cljs.core.list(new cljs.core.Symbol(null,"second","second",1195829517,null),new cljs.core.Symbol(null,"session-views","session-views",554605595,null))))))),cljs.core.list(new cljs.core.Symbol(null,"testing","testing",-1492767066,null),"select session information for view: more than one instance ",cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"db'","db'",-588667780,null),cljs.core.list(new cljs.core.Symbol(null,"->","->",-2139605430,null),new cljs.core.Symbol(null,"db","db",-1661185010,null),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1"),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-2"),cljs.core.list(new cljs.core.Symbol("ses","add-new-session","ses/add-new-session",1254719281,null),"app-1")),new cljs.core.Symbol(null,"session-views","session-views",554605595,null),cljs.core.list(new cljs.core.Symbol("ses","sessions-view","ses/sessions-view",-285775224,null),new cljs.core.Symbol(null,"db'","db'",-588667780,null))], null),cljs.core.list(new cljs.core.Symbol(null,"is","is",2009660525,null),cljs.core.list(new cljs.core.Symbol(null,"=","=",-1501502141,null),(2),cljs.core.list(new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"session-views","session-views",554605595,null)))),cljs.core.list(new cljs.core.Symbol(null,"let","let",358118826,null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"app-1-sessions","app-1-sessions",-2123445745,null),new cljs.core.Symbol(null,"app-2-sessions","app-2-sessions",665052913,null)], null),new cljs.core.Symbol(null,"session-views","session-views",554605595,null)], null),cljs.core.list(new cljs.core.Symbol(null,"prn","prn",1561684909,null),new cljs.core.Symbol(null,"app-1-sessions","app-1-sessions",-2123445745,null)),cljs.core.list(new cljs.core.Symbol(null,"prn","prn",1561684909,null),"-------------"),cljs.core.list(new cljs.core.Symbol(null,"prn","prn",1561684909,null),new cljs.core.Symbol(null,"app-2-sessions","app-2-sessions",665052913,null)))))));

//# sourceMappingURL=core_test.js.map
